# 🎯 최종 텍스트 표시 규칙

## ✅ **완성된 규칙**

### 📝 **자막 (Subtitle)**
- ✅ **무조건 1줄 표시**
- ✅ **20-25자 이내** (짧고 간결)
- ✅ 음성과 완벽 동기화

### 📺 **제목 (Title)**
- ✅ **2줄 허용** (유연성)
- ✅ **15자/줄 기준 분리**
- ✅ 전체 20자 초과 시 축약

---

## 📊 **상세 규칙**

### 1️⃣ **자막 규칙**

#### 표시 방식
```
무조건 1줄만 표시 (길이 관계없이)
```

#### 나레이션 생성 규칙
```javascript
// 스크립트 생성 시
1. 블로그 본문에서 8-80자 문장 추출
2. 20-25자 이내 문장 우선 선택
3. 없으면 22자로 자르고 "..." 추가
```

#### 예시
```
✅ 좋은 예 (20-25자):
"크리스마스가 다가왔습니다" (12자)
"특별한 트리를 준비하세요" (13자)
"블랙 컬러가 돋보입니다" (12자)
"올해는 이렇게 꾸며보세요" (13자)

⚠️ 긴 문장 (자동 축약):
"올해는 특별한 크리스마스 트리로 분위기를 내보세요" (27자)
→ "올해는 특별한 크리스마스 트..." (22자 + "...")
```

#### 화면 표시
```
┌────────────────────────┐
│ 크리스마스가 다가왔습니다  │  ← 1줄
└────────────────────────┘
```

---

### 2️⃣ **제목 규칙**

#### 표시 방식
```
2줄까지 허용
15자 기준으로 자동 분리
```

#### 생성 규칙
```javascript
// 스크립트 생성 시
1. 원본 제목 사용
2. 20자 초과 시 20자로 자르고 "..." 추가
3. 비디오 생성 시 15자 기준으로 자동 2줄 분리
```

#### 예시

##### 짧은 제목 (1줄)
```
입력: "크리스마스 트리" (9자)
출력: 1줄
┌──────────────┐
│ 크리스마스 트리 │
└──────────────┘
```

##### 중간 제목 (2줄 자동 분리)
```
입력: "2024년 최고의 크리스마스" (14자)
출력: 2줄 (15자 기준 분리)
┌──────────────┐
│ 2024년 최고의  │  ← 첫줄
│ 크리스마스     │  ← 둘째줄
└──────────────┘
```

##### 긴 제목 (자동 축약)
```
입력: "2024년 가장 인기 있는 크리스마스 트리 TOP 10" (25자)
스크립트 생성 시: "2024년 가장 인기 있는 크..." (20자)
출력: 2줄
┌────────────────┐
│ 2024년 가장 인기 │  ← 첫줄 (10자)
│ 있는 크...      │  ← 둘째줄 (6자)
└────────────────┘
```

---

## 🎬 **음성 동기화**

### ✅ **완벽한 동기화**

```
🎤 음성: "크리스마스가 다가왔습니다" (3초)
📝 자막: 크리스마스가 다가왔습니다  ← 1줄, 3초 동안 표시
✅ 결과: 음성과 완벽하게 동기화!
```

### ⚡ **빠른 템포**

20-25자 나레이션으로 빠르고 간결한 쇼츠 제작

```
장면 1: "크리스마스가 다가왔습니다" (3초)
장면 2: "특별한 트리를 준비하세요" (3초)
장면 3: "블랙 컬러가 돋보입니다" (3초)
────────────────────────────────
총 시간: 9초 (빠르고 간결!)
```

---

## 📏 **권장 길이**

| 요소 | 최소 | 권장 | 최대 | 초과 시 |
|------|------|------|------|---------|
| **나레이션** | 8자 | 12-20자 | 25자 | 22자 축약 + "..." |
| **제목** | 5자 | 10-15자 | 20자 | 20자 축약 + "..." |
| **자막 표시** | - | 1줄 | 1줄 | 강제 1줄 |
| **제목 표시** | - | 1-2줄 | 2줄 | 15자/줄 분리 |

---

## 🎯 **블로그 선택 팁**

### ✅ **좋은 블로그 글**
```
"크리스마스가 다가왔습니다.
특별한 트리를 준비하세요.
블랙 컬러가 돋보입니다.
고급스러운 분위기를 연출하세요."

→ 각 문장이 12-15자로 짧고 간결 ✅
```

### ❌ **피해야 할 블로그 글**
```
"올해 크리스마스에는 특별하고 고급스러운 블랙 컬러의 
크리스마스 트리로 집안 분위기를 한껏 끌어올려보세요."

→ 문장이 너무 길어서 자동 축약됨 ⚠️
```

---

## 🔧 **백엔드 로직**

### 자막 생성
```javascript
// createSubtitleFilter()
const lines = [text];  // 무조건 1줄
console.log(`자막 1줄 표시: "${text}" (${text.length}자)`);
```

### 제목 생성
```javascript
// createTitleFilter()
const lines = this.splitTextIntoTwoLines(text, 15);
// 15자 기준으로 2줄 분리 허용
```

### 스크립트 생성
```javascript
// script.js
// 1. 8-80자 문장 필터링
.filter(s => s.length >= 8 && s.length <= 80)

// 2. 25자 이하 우선 선택
.filter(s => s.length <= 25)

// 3. 부족하면 22자로 축약
.map(s => s.substring(0, 22) + '...')
```

---

## 📊 **실제 화면 예시**

### 완성된 쇼츠 화면
```
┌────────────────────────────────┐
│                                │
│     2024년 최고의              │  ← 제목 1줄
│     크리스마스                 │  ← 제목 2줄
│                                │
│         [영상 영역]             │
│                                │
│                                │
│ 크리스마스가 다가왔습니다       │  ← 자막 1줄
│                                │
└────────────────────────────────┘
```

---

## 💡 **핵심 포인트**

### ✅ **자막**
- 1줄만 표시
- 20-25자 이내
- 음성과 완벽 동기화
- 빠르고 간결

### ✅ **제목**
- 2줄 허용
- 15자씩 분리
- 20자 초과 축약
- 유연한 표시

### ✅ **효과**
- 깔끔한 화면
- 전문적인 퀄리티
- 빠른 템포
- 모바일 최적화

---

## 🎉 **최종 결과**

```
자막: 1줄 강제 (20-25자)
제목: 2줄 허용 (15자/줄)
나레이션: 8-25자 (짧고 간결)
음성 동기화: 완벽
화면 구성: 깔끔
모바일 최적화: 완료
비용: ₩0 (무료)
```

---

## 📦 **Git Commit**

```
Commit: a45cd9b
Message: feat: Optimize text display - subtitle 1 line (20-25 chars), title 2 lines allowed
```

---

## 🚀 **테스트 방법**

1. **새로운 쇼츠 생성**
   ```
   https://shorts.neuralgrid.kr/ 접속
   → 블로그 URL 입력
   → 스크립트 생성 (나레이션 20-25자 확인)
   → 음성 생성
   → 비디오 생성
   ```

2. **자막 확인**
   ```
   ✅ 1줄로만 표시되는지 확인
   ✅ 20-25자 이내인지 확인
   ✅ 음성과 동기화되는지 확인
   ```

3. **제목 확인**
   ```
   ✅ 1-2줄로 표시되는지 확인
   ✅ 각 줄이 15자 이내인지 확인
   ✅ 깔끔하게 보이는지 확인
   ```

---

*최종 업데이트: 2024-12-22*
*Git Commit: a45cd9b*
*완성: 자막 1줄 (20-25자), 제목 2줄 허용*
